"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var __1 = require("..");
var StringifySet_1 = require("../../common/StringifySet");
var RadixParticle = /** @class */ (function (_super) {
    tslib_1.__extends(RadixParticle, _super);
    function RadixParticle() {
        return _super.call(this) || this;
    }
    RadixParticle.prototype.getAddresses = function () {
        throw new Error('Particle implementations must override this method!');
    };
    RadixParticle.prototype.getHid = function () {
        return new __1.RadixEUID(this.getHash().slice(0, 16));
    };
    RadixParticle.prototype.getHidString = function () {
        return this.getHid().toString();
    };
    RadixParticle.prototype.getDestinations = function () {
        return StringifySet_1.StringifySet.of(this.getAddresses().map(function (a) { return a.getUID(); })).values();
    };
    Object.defineProperty(RadixParticle.prototype, "destinations", {
        get: function () {
            return this.getDestinations();
        },
        set: function (destinations) {
            // Ignore, since it's a computed property
        },
        enumerable: true,
        configurable: true
    });
    tslib_1.__decorate([
        __1.includeJSON,
        __1.includeDSON,
        tslib_1.__metadata("design:type", Array),
        tslib_1.__metadata("design:paramtypes", [Array])
    ], RadixParticle.prototype, "destinations", null);
    RadixParticle = tslib_1.__decorate([
        __1.RadixSerializer.registerClass('radix.particle'),
        tslib_1.__metadata("design:paramtypes", [])
    ], RadixParticle);
    return RadixParticle;
}(__1.RadixSerializableObject));
exports.RadixParticle = RadixParticle;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhQYXJ0aWNsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9tb2R1bGVzL2F0b21tb2RlbC9wYXJ0aWNsZXMvUmFkaXhQYXJ0aWNsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx3QkFBZ0g7QUFDaEgsMERBQXdEO0FBR3hEO0lBQW1DLHlDQUF1QjtJQUV0RDtlQUNJLGlCQUFPO0lBQ1gsQ0FBQztJQUVNLG9DQUFZLEdBQW5CO1FBQ0ksTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFFTSw4QkFBTSxHQUFiO1FBQ0ksT0FBTyxJQUFJLGFBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0lBQ3JELENBQUM7SUFFTSxvQ0FBWSxHQUFuQjtRQUNJLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFFBQVEsRUFBRSxDQUFBO0lBQ25DLENBQUM7SUFFTSx1Q0FBZSxHQUF0QjtRQUNJLE9BQU8sMkJBQVksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBVixDQUFVLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBO0lBQzdFLENBQUM7SUFJRCxzQkFBSSx1Q0FBWTthQUFoQjtZQUNJLE9BQU8sSUFBSSxDQUFDLGVBQWUsRUFBRSxDQUFBO1FBQ2pDLENBQUM7YUFFRCxVQUFpQixZQUF5QjtZQUN0Qyx5Q0FBeUM7UUFDN0MsQ0FBQzs7O09BSkE7SUFGRDtRQUZDLGVBQVc7UUFDWCxlQUFXOzs7cURBR1g7SUExQlEsYUFBYTtRQUR6QixtQkFBZSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQzs7T0FDbkMsYUFBYSxDQStCekI7SUFBRCxvQkFBQztDQUFBLEFBL0JELENBQW1DLDJCQUF1QixHQStCekQ7QUEvQlksc0NBQWEifQ==