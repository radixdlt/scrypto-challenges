"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var __1 = require("..");
var id = ':hsh:';
var RadixHash = /** @class */ (function () {
    function RadixHash(bytes) {
        if (bytes.length !== 64) {
            throw new Error('Hash must be 64 bytes');
        }
        if (typeof bytes === 'string') {
            this.bytes = Buffer.from(bytes, 'hex');
        }
        else {
            this.bytes = Buffer.from(bytes);
        }
    }
    RadixHash.fromJSON = function (data) {
        return new this(data);
    };
    RadixHash.prototype.toJSON = function () {
        return "" + id + this.bytes.toString('hex');
    };
    RadixHash.prototype.toDSON = function () {
        return __1.RadixSerializer.toDSON(this);
    };
    RadixHash.prototype.encodeCBOR = function (encoder) {
        var output = Buffer.alloc(this.bytes.length + 1);
        output.writeInt8(0x03, 0);
        this.bytes.copy(output, 1);
        return encoder.pushAny(output);
    };
    RadixHash = tslib_1.__decorate([
        __1.RadixSerializer.registerPrimitive(id),
        tslib_1.__metadata("design:paramtypes", [Object])
    ], RadixHash);
    return RadixHash;
}());
exports.RadixHash = RadixHash;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhIYXNoLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL21vZHVsZXMvYXRvbW1vZGVsL3ByaW1pdGl2ZXMvUmFkaXhIYXNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHdCQUFxRDtBQUVyRCxJQUFNLEVBQUUsR0FBRyxPQUFPLENBQUE7QUFFbEI7SUFJSSxtQkFBWSxLQUFVO1FBQ2xCLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7WUFDckIsTUFBTSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxDQUFBO1NBQzNDO1FBRUQsSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQTtTQUN6QzthQUFNO1lBQ0gsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFBO1NBQ2xDO0lBQ0wsQ0FBQztJQUVhLGtCQUFRLEdBQXRCLFVBQXVCLElBQVk7UUFDL0IsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUN6QixDQUFDO0lBRU0sMEJBQU0sR0FBYjtRQUNJLE9BQU8sS0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFHLENBQUE7SUFDL0MsQ0FBQztJQUVNLDBCQUFNLEdBQWI7UUFDSSxPQUFPLG1CQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFTSw4QkFBVSxHQUFqQixVQUFrQixPQUFPO1FBQ3JCLElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDbEQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBRTFCLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBbENRLFNBQVM7UUFEckIsbUJBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxFQUFFLENBQUM7O09BQ3pCLFNBQVMsQ0FtQ3JCO0lBQUQsZ0JBQUM7Q0FBQSxBQW5DRCxJQW1DQztBQW5DWSw4QkFBUyJ9