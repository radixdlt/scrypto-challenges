"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var long_1 = tslib_1.__importDefault(require("long"));
var RadixUtil_1 = require("../common/RadixUtil");
var RadixPOW = /** @class */ (function () {
    function RadixPOW(magic, seed) {
        this.magic = magic;
        this.seed = seed;
        this.nonce = long_1.default.fromNumber(1);
    }
    RadixPOW.prototype.getHash = function () {
        var data = Buffer.alloc(4 + this.seed.length + 8);
        data.writeInt32BE(this.magic, 0);
        this.seed.copy(data, 4);
        Buffer.from(this.nonce.toBytes()).copy(data, 4 + 32);
        return RadixUtil_1.radixHash(data);
    };
    RadixPOW.prototype.incrementNonce = function () {
        this.nonce = this.nonce.add(1);
    };
    return RadixPOW;
}());
exports.default = RadixPOW;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhQT1cuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbW9kdWxlcy9wb3cvUmFkaXhQT1cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsc0RBQXVCO0FBQ3ZCLGlEQUFnRDtBQUVoRDtJQUdJLGtCQUFxQixLQUFhLEVBQVcsSUFBWTtRQUFwQyxVQUFLLEdBQUwsS0FBSyxDQUFRO1FBQVcsU0FBSSxHQUFKLElBQUksQ0FBUTtRQUNyRCxJQUFJLENBQUMsS0FBSyxHQUFHLGNBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVNLDBCQUFPLEdBQWQ7UUFDSSxJQUFNLElBQUksR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUNuRCxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDaEMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFBO1FBQ3ZCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO1FBRXBELE9BQU8scUJBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUMxQixDQUFDO0lBRU0saUNBQWMsR0FBckI7UUFDSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ2xDLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0FBQyxBQW5CRCxJQW1CQyJ9