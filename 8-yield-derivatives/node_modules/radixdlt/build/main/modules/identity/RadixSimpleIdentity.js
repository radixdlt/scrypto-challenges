"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var RadixECIES_1 = tslib_1.__importDefault(require("../crypto/RadixECIES"));
var RadixIdentity_1 = tslib_1.__importDefault(require("./RadixIdentity"));
var RadixSimpleIdentity = /** @class */ (function (_super) {
    tslib_1.__extends(RadixSimpleIdentity, _super);
    function RadixSimpleIdentity(address) {
        var _this = _super.call(this, address) || this;
        _this.address = address;
        return _this;
    }
    RadixSimpleIdentity.prototype.signAtom = function (atom) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var signature, signatureId;
            var _a;
            return tslib_1.__generator(this, function (_b) {
                signature = this.address.sign(atom.getHash());
                signatureId = this.address.getUID();
                atom.signatures = (_a = {}, _a[signatureId.toString()] = signature, _a);
                return [2 /*return*/, atom];
            });
        });
    };
    RadixSimpleIdentity.prototype.decryptECIESPayload = function (payload) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                return [2 /*return*/, RadixECIES_1.default.decrypt(this.address.getPrivate(), payload)];
            });
        });
    };
    RadixSimpleIdentity.prototype.decryptECIESPayloadWithProtectors = function (protectors, payload) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            return tslib_1.__generator(this, function (_a) {
                return [2 /*return*/, RadixECIES_1.default.decryptWithProtectors(this.address.getPrivate(), protectors, payload)];
            });
        });
    };
    RadixSimpleIdentity.prototype.getPublicKey = function () {
        return this.address.getPublic();
    };
    return RadixSimpleIdentity;
}(RadixIdentity_1.default));
exports.default = RadixSimpleIdentity;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhTaW1wbGVJZGVudGl0eS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2R1bGVzL2lkZW50aXR5L1JhZGl4U2ltcGxlSWRlbnRpdHkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsNEVBQTZDO0FBQzdDLDBFQUEyQztBQUkzQztJQUFpRCwrQ0FBYTtJQUMxRCw2QkFBcUIsT0FBcUI7UUFBMUMsWUFDSSxrQkFBTSxPQUFPLENBQUMsU0FDakI7UUFGb0IsYUFBTyxHQUFQLE9BQU8sQ0FBYzs7SUFFMUMsQ0FBQztJQUVZLHNDQUFRLEdBQXJCLFVBQXNCLElBQWU7Ozs7O2dCQUMzQixTQUFTLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUE7Z0JBQzdDLFdBQVcsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFBO2dCQUV6QyxJQUFJLENBQUMsVUFBVSxhQUFLLEdBQUMsV0FBVyxDQUFDLFFBQVEsRUFBRSxJQUFHLFNBQVMsS0FBRSxDQUFBO2dCQUV6RCxzQkFBTyxJQUFJLEVBQUE7OztLQUNkO0lBRVksaURBQW1CLEdBQWhDLFVBQWlDLE9BQWU7OztnQkFDNUMsc0JBQU8sb0JBQVUsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsRUFBRSxPQUFPLENBQUMsRUFBQTs7O0tBQ2hFO0lBRVksK0RBQWlDLEdBQTlDLFVBQStDLFVBQW9CLEVBQUUsT0FBZTs7O2dCQUNoRixzQkFBTyxvQkFBVSxDQUFDLHFCQUFxQixDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUUsVUFBVSxFQUFFLE9BQU8sQ0FBQyxFQUFBOzs7S0FDMUY7SUFFTSwwQ0FBWSxHQUFuQjtRQUNJLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsQ0FBQTtJQUNuQyxDQUFDO0lBQ0wsMEJBQUM7QUFBRCxDQUFDLEFBekJELENBQWlELHVCQUFhLEdBeUI3RCJ9