"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var RadixPOWTask_1 = tslib_1.__importDefault(require("../pow/RadixPOWTask"));
var RadixFeeProvider = /** @class */ (function () {
    function RadixFeeProvider() {
    }
    /**
     * Compute a valid POW nonce for an atom
     *
     * @param  {number} universeMagicNumber A universe-specific number defined in the unvierse config
     * @param  {RadixAtom} atom The atom without a pow fee
     * @returns Promise
     */
    RadixFeeProvider.generatePOWFee = function (universeMagicNumber, atom) {
        return tslib_1.__awaiter(this, void 0, void 0, function () {
            var target, seed, powTask, pow;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        target = Buffer.from('0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF', 'hex');
                        seed = atom.getHash();
                        powTask = new RadixPOWTask_1.default(universeMagicNumber, seed, target);
                        return [4 /*yield*/, powTask.computePow()];
                    case 1:
                        pow = _a.sent();
                        return [2 /*return*/, pow];
                }
            });
        });
    };
    return RadixFeeProvider;
}());
exports.default = RadixFeeProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhGZWVQcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2R1bGVzL2ZlZXMvUmFkaXhGZWVQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFHQSw2RUFBOEM7QUFLOUM7SUFBQTtJQTJCQSxDQUFDO0lBMUJHOzs7Ozs7T0FNRztJQUVpQiwrQkFBYyxHQUFsQyxVQUNJLG1CQUEyQixFQUMzQixJQUFlOzs7Ozs7d0JBS1QsTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0VBQWtFLEVBQUUsS0FBSyxDQUFDLENBQUE7d0JBRy9GLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7d0JBR3JCLE9BQU8sR0FBRyxJQUFJLHNCQUFZLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFBO3dCQUN2RCxxQkFBTSxPQUFPLENBQUMsVUFBVSxFQUFFLEVBQUE7O3dCQUFoQyxHQUFHLEdBQUcsU0FBMEI7d0JBRXRDLHNCQUFPLEdBQUcsRUFBQTs7OztLQUNiO0lBQ0wsdUJBQUM7QUFBRCxDQUFDLEFBM0JELElBMkJDIn0=