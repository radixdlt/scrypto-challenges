import RadixPOWTask from '../pow/RadixPOWTask';
export default class RadixFeeProvider {
    /**
     * Compute a valid POW nonce for an atom
     *
     * @param  {number} universeMagicNumber A universe-specific number defined in the unvierse config
     * @param  {RadixAtom} atom The atom without a pow fee
     * @returns Promise
     */
    static async generatePOWFee(universeMagicNumber, atom) {
        // Compute difficulty, make a target buffer with first n bits set to 0
        // const target = powTargetFromAtomSize(atom.getSize())
        const target = Buffer.from('0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF', 'hex');
        // Make seed
        const seed = atom.getHash();
        // POW
        const powTask = new RadixPOWTask(universeMagicNumber, seed, target);
        const pow = await powTask.computePow();
        return pow;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhGZWVQcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9tb2R1bGVzL2ZlZXMvUmFkaXhGZWVQcm92aWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLFlBQVksTUFBTSxxQkFBcUIsQ0FBQTtBQUs5QyxNQUFNLENBQUMsT0FBTyxPQUFPLGdCQUFnQjtJQUNqQzs7Ozs7O09BTUc7SUFFSSxNQUFNLENBQUMsS0FBSyxDQUFDLGNBQWMsQ0FDOUIsbUJBQTJCLEVBQzNCLElBQWU7UUFHZixzRUFBc0U7UUFDdEUsdURBQXVEO1FBQ3ZELE1BQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsa0VBQWtFLEVBQUUsS0FBSyxDQUFDLENBQUE7UUFFckcsWUFBWTtRQUNaLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUUzQixNQUFNO1FBQ04sTUFBTSxPQUFPLEdBQUcsSUFBSSxZQUFZLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxFQUFFLE1BQU0sQ0FBQyxDQUFBO1FBQ25FLE1BQU0sR0FBRyxHQUFHLE1BQU0sT0FBTyxDQUFDLFVBQVUsRUFBRSxDQUFBO1FBRXRDLE9BQU8sR0FBRyxDQUFBO0lBQ2QsQ0FBQztDQUNKIn0=