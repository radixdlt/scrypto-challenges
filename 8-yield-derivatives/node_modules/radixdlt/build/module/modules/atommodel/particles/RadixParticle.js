import * as tslib_1 from "tslib";
import { RadixSerializableObject, RadixSerializer, includeJSON, includeDSON, RadixEUID } from '..';
import { StringifySet } from '../../common/StringifySet';
let RadixParticle = class RadixParticle extends RadixSerializableObject {
    constructor() {
        super();
    }
    getAddresses() {
        throw new Error('Particle implementations must override this method!');
    }
    getHid() {
        return new RadixEUID(this.getHash().slice(0, 16));
    }
    getHidString() {
        return this.getHid().toString();
    }
    getDestinations() {
        return StringifySet.of(this.getAddresses().map(a => a.getUID())).values();
    }
    get destinations() {
        return this.getDestinations();
    }
    set destinations(destinations) {
        // Ignore, since it's a computed property
    }
};
tslib_1.__decorate([
    includeJSON,
    includeDSON,
    tslib_1.__metadata("design:type", Array),
    tslib_1.__metadata("design:paramtypes", [Array])
], RadixParticle.prototype, "destinations", null);
RadixParticle = tslib_1.__decorate([
    RadixSerializer.registerClass('radix.particle'),
    tslib_1.__metadata("design:paramtypes", [])
], RadixParticle);
export { RadixParticle };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmFkaXhQYXJ0aWNsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy9tb2R1bGVzL2F0b21tb2RlbC9wYXJ0aWNsZXMvUmFkaXhQYXJ0aWNsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLHVCQUF1QixFQUFFLGVBQWUsRUFBRSxXQUFXLEVBQUUsV0FBVyxFQUFnQixTQUFTLEVBQUUsTUFBTSxJQUFJLENBQUE7QUFDaEgsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLDJCQUEyQixDQUFBO0FBR3hELElBQWEsYUFBYSxHQUExQixNQUFhLGFBQWMsU0FBUSx1QkFBdUI7SUFFdEQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtJQUNYLENBQUM7SUFFTSxZQUFZO1FBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyxxREFBcUQsQ0FBQyxDQUFBO0lBQzFFLENBQUM7SUFFTSxNQUFNO1FBQ1QsT0FBTyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFBO0lBQ3JELENBQUM7SUFFTSxZQUFZO1FBQ2YsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUE7SUFDbkMsQ0FBQztJQUVNLGVBQWU7UUFDbEIsT0FBTyxZQUFZLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFBO0lBQzdFLENBQUM7SUFJRCxJQUFJLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsSUFBSSxZQUFZLENBQUMsWUFBeUI7UUFDdEMseUNBQXlDO0lBQzdDLENBQUM7Q0FDSixDQUFBO0FBUEc7SUFGQyxXQUFXO0lBQ1gsV0FBVzs7O2lEQUdYO0FBMUJRLGFBQWE7SUFEekIsZUFBZSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQzs7R0FDbkMsYUFBYSxDQStCekI7U0EvQlksYUFBYSJ9