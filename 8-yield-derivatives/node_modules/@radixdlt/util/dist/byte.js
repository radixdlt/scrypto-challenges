"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.byteToBuffer = exports.firstByteFromBuffer = exports.firstByteOfNumber = exports.fitsInUInt8 = void 0;
const neverthrow_1 = require("neverthrow");
const fitsInUInt8 = (number) => {
    const isNotTooBig = number <= 255;
    const isNonNegative = number >= 0;
    return isNotTooBig && isNonNegative;
};
exports.fitsInUInt8 = fitsInUInt8;
const firstByteOfNumber = (n) => exports.firstByteFromBuffer(Buffer.from([n]));
exports.firstByteOfNumber = firstByteOfNumber;
const firstByteFromBuffer = (buffer) => {
    const firstByte = Uint8Array.from(buffer)[0];
    return byteFromNumber(firstByte)._unsafeUnwrap();
};
exports.firstByteFromBuffer = firstByteFromBuffer;
const byteFromNumber = (n) => {
    if (!Number.isInteger(n) || !exports.fitsInUInt8(n)) {
        return neverthrow_1.err(new RangeError('Number is out of Uint8 range'));
    }
    const byte = n;
    return neverthrow_1.ok(byte);
};
const byteToBuffer = (byte) => Buffer.from([byteToNumber(byte)]);
exports.byteToBuffer = byteToBuffer;
const byteToNumber = (byte) => byte;
//# sourceMappingURL=byte.js.map