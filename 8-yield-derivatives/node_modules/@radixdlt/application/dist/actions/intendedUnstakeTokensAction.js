"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IntendedUnstakeTokens = void 0;
const _types_1 = require("./_types");
const account_1 = require("@radixdlt/account");
const neverthrow_1 = require("neverthrow");
const primitives_1 = require("@radixdlt/primitives");
const create = (input, to_account) => {
    var _a, _b;
    return (0, neverthrow_1.combine)([
        account_1.ValidatorAddress.fromUnsafe(input.from_validator),
        primitives_1.Amount.fromUnsafe((_a = input.amount) !== null && _a !== void 0 ? _a : 0),
        primitives_1.Amount.fromUnsafe((_b = input.unstake_percentage) !== null && _b !== void 0 ? _b : 0),
        account_1.ResourceIdentifier.fromUnsafe(input.tokenIdentifier),
    ]).map((resultList) => {
        const from_validator = resultList[0];
        const amount = resultList[1];
        const unstake_percentage = resultList[2];
        const rri = resultList[3];
        return {
            from_validator: from_validator.toString(),
            amount,
            unstake_percentage,
            type: _types_1.ActionType.UNSTAKE_TOKENS,
            to_account: to_account.toString(),
            rri,
        };
    });
};
exports.IntendedUnstakeTokens = {
    create,
};
//# sourceMappingURL=intendedUnstakeTokensAction.js.map