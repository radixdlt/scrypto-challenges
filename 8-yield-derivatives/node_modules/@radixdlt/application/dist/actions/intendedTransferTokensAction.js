"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.IntendedTransferTokens = exports.isTransferTokensInput = void 0;
const _types_1 = require("./_types");
const account_1 = require("@radixdlt/account");
const primitives_1 = require("@radixdlt/primitives");
const neverthrow_1 = require("neverthrow");
const isTransferTokensInput = (something) => {
    const inspection = something;
    return ((0, account_1.isAccountAddressOrUnsafeInput)(inspection.to_account) &&
        (0, primitives_1.isAmountOrUnsafeInput)(inspection.amount) &&
        (0, account_1.isResourceIdentifierOrUnsafeInput)(inspection.tokenIdentifier));
};
exports.isTransferTokensInput = isTransferTokensInput;
const create = (input, from_account) => (0, neverthrow_1.combine)([
    account_1.AccountAddress.fromUnsafe(input.to_account),
    primitives_1.Amount.fromUnsafe(input.amount),
    account_1.ResourceIdentifier.fromUnsafe(input.tokenIdentifier),
]).map((resultList) => {
    const to_account = resultList[0];
    const amount = resultList[1];
    const rri = resultList[2];
    return {
        to_account: to_account.toString(),
        amount,
        rri,
        type: _types_1.ActionType.TOKEN_TRANSFER,
        from_account: from_account.toString(),
    };
});
exports.IntendedTransferTokens = {
    create,
};
//# sourceMappingURL=intendedTransferTokensAction.js.map