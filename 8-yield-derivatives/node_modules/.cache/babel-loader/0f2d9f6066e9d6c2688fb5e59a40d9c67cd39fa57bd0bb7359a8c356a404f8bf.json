{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar Error_1 = require(\"../Error\");\nvar EventEmitterTransport = /** @class */function (_super) {\n  __extends(EventEmitterTransport, _super);\n  function EventEmitterTransport(destEmitter, reqUri, resUri) {\n    var _this = _super.call(this) || this;\n    _this.connection = destEmitter;\n    _this.reqUri = reqUri;\n    _this.resUri = resUri;\n    return _this;\n  }\n  EventEmitterTransport.prototype.connect = function () {\n    var _this = this;\n    this.connection.on(this.resUri, function (data) {\n      _this.transportRequestManager.resolveResponse(data);\n    });\n    return Promise.resolve();\n  };\n  EventEmitterTransport.prototype.sendData = function (data, timeout) {\n    if (timeout === void 0) {\n      timeout = null;\n    }\n    var prom = this.transportRequestManager.addRequest(data, timeout);\n    var notifications = Request_1.getNotifications(data);\n    var parsedData = this.parseData(data);\n    try {\n      this.connection.emit(this.reqUri, parsedData);\n      this.transportRequestManager.settlePendingRequest(notifications);\n      return prom;\n    } catch (e) {\n      var responseErr = new Error_1.JSONRPCError(e.message, Error_1.ERR_UNKNOWN, e);\n      this.transportRequestManager.settlePendingRequest(notifications, responseErr);\n      return Promise.reject(responseErr);\n    }\n  };\n  EventEmitterTransport.prototype.close = function () {\n    this.connection.removeAllListeners();\n  };\n  return EventEmitterTransport;\n}(Transport_1.Transport);\nexports.default = EventEmitterTransport;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","defineProperty","exports","value","Transport_1","require","Request_1","Error_1","EventEmitterTransport","_super","destEmitter","reqUri","resUri","_this","call","connection","connect","on","data","transportRequestManager","resolveResponse","Promise","resolve","sendData","timeout","prom","addRequest","notifications","getNotifications","parsedData","parseData","emit","settlePendingRequest","e","responseErr","JSONRPCError","message","ERR_UNKNOWN","reject","close","removeAllListeners","Transport","default"],"sources":["/Users/mdabdurrazzak/RadInsu/node_modules/@open-rpc/client-js/build/transports/EventEmitterTransport.js"],"sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Transport_1 = require(\"./Transport\");\nvar Request_1 = require(\"../Request\");\nvar Error_1 = require(\"../Error\");\nvar EventEmitterTransport = /** @class */ (function (_super) {\n    __extends(EventEmitterTransport, _super);\n    function EventEmitterTransport(destEmitter, reqUri, resUri) {\n        var _this = _super.call(this) || this;\n        _this.connection = destEmitter;\n        _this.reqUri = reqUri;\n        _this.resUri = resUri;\n        return _this;\n    }\n    EventEmitterTransport.prototype.connect = function () {\n        var _this = this;\n        this.connection.on(this.resUri, function (data) {\n            _this.transportRequestManager.resolveResponse(data);\n        });\n        return Promise.resolve();\n    };\n    EventEmitterTransport.prototype.sendData = function (data, timeout) {\n        if (timeout === void 0) { timeout = null; }\n        var prom = this.transportRequestManager.addRequest(data, timeout);\n        var notifications = Request_1.getNotifications(data);\n        var parsedData = this.parseData(data);\n        try {\n            this.connection.emit(this.reqUri, parsedData);\n            this.transportRequestManager.settlePendingRequest(notifications);\n            return prom;\n        }\n        catch (e) {\n            var responseErr = new Error_1.JSONRPCError(e.message, Error_1.ERR_UNKNOWN, e);\n            this.transportRequestManager.settlePendingRequest(notifications, responseErr);\n            return Promise.reject(responseErr);\n        }\n    };\n    EventEmitterTransport.prototype.close = function () {\n        this.connection.removeAllListeners();\n    };\n    return EventEmitterTransport;\n}(Transport_1.Transport));\nexports.default = EventEmitterTransport;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}