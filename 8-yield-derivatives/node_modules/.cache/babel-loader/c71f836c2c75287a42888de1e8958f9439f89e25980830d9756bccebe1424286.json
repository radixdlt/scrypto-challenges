{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nclass Ptr {\n  static parse(s) {\n    if (s === \"\") {\n      return new Ptr([]);\n    }\n    if (!s.startsWith(\"/\")) {\n      throw new InvalidPtrError(s);\n    }\n    const [, ...tokens] = s.split(\"/\");\n    return new Ptr(tokens.map(token => {\n      return token.replace(/~1/g, \"/\").replace(/~0/g, \"~\");\n    }));\n  }\n  constructor(tokens) {\n    this.tokens = tokens;\n  }\n  toString() {\n    if (this.tokens.length === 0) {\n      return \"\";\n    }\n    const tokens = this.tokens.map(token => {\n      return token.replace(/~/g, \"~0\").replace(/\\//g, \"~1\");\n    });\n    return `/${tokens.join(\"/\")}`;\n  }\n  eval(instance) {\n    for (const token of this.tokens) {\n      if (instance.hasOwnProperty(token)) {\n        instance = instance[token];\n      } else {\n        throw new EvalError(instance, token);\n      }\n    }\n    return instance;\n  }\n}\nexports.default = Ptr;\nclass InvalidPtrError extends Error {\n  constructor(ptr) {\n    super(`Invalid JSON Pointer: ${ptr}`);\n    this.ptr = ptr;\n  }\n}\nexports.InvalidPtrError = InvalidPtrError;\nclass EvalError extends Error {\n  constructor(instance, token) {\n    super(`Error evaluating JSON Pointer: no attribute ${token} on ${instance}`);\n    this.instance = instance;\n    this.token = token;\n  }\n}\nexports.EvalError = EvalError;","map":{"version":3,"names":["Ptr","parse","s","startsWith","InvalidPtrError","tokens","split","map","token","replace","constructor","toString","length","join","eval","instance","hasOwnProperty","EvalError","exports","default","Error","ptr"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;AAGA,MAAqBA,GAAG;EAUf,OAAOC,KAAKA,CAACC,CAAS;IAK3B,IAAIA,CAAC,KAAK,EAAE,EAAE;MACZ,OAAO,IAAIF,GAAG,CAAC,EAAE,CAAC;;IAGpB,IAAI,CAACE,CAAC,CAACC,UAAU,CAAC,GAAG,CAAC,EAAE;MACtB,MAAM,IAAIC,eAAe,CAACF,CAAC,CAAC;;IAG9B,MAAM,GAAG,GAAGG,MAAM,CAAC,GAAGH,CAAC,CAACI,KAAK,CAAC,GAAG,CAAC;IAClC,OAAO,IAAIN,GAAG,CAACK,MAAM,CAACE,GAAG,CAAEC,KAAK,IAAI;MAClC,OAAOA,KAAK,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;IACtD,CAAC,CAAC,CAAC;EACL;EAcAC,YAAYL,MAAgB;IAC1B,IAAI,CAACA,MAAM,GAAGA,MAAM;EACtB;EAQOM,QAAQA,CAAA;IACb,IAAI,IAAI,CAACN,MAAM,CAACO,MAAM,KAAK,CAAC,EAAE;MAC5B,OAAO,EAAE;;IAGX,MAAMP,MAAM,GAAG,IAAI,CAACA,MAAM,CAACE,GAAG,CAAEC,KAAK,IAAI;MACvC,OAAOA,KAAK,CAACC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAACA,OAAO,CAAC,KAAK,EAAE,IAAI,CAAC;IACvD,CAAC,CAAC;IAEF,OAAO,IAAIJ,MAAM,CAACQ,IAAI,CAAC,GAAG,CAAC,EAAE;EAC/B;EAWOC,IAAIA,CAACC,QAAa;IACvB,KAAK,MAAMP,KAAK,IAAI,IAAI,CAACH,MAAM,EAAE;MAC/B,IAAIU,QAAQ,CAACC,cAAc,CAACR,KAAK,CAAC,EAAE;QAClCO,QAAQ,GAAGA,QAAQ,CAACP,KAAK,CAAC;OAC3B,MAAM;QACL,MAAM,IAAIS,SAAS,CAACF,QAAQ,EAAEP,KAAK,CAAC;;;IAIxC,OAAOO,QAAQ;EACjB;;AAlFFG,OAAA,CAAAC,OAAA,GAAAnB,GAAA;AAyFA,MAAaI,eAAgB,SAAQgB,KAAK;EAMxCV,YAAYW,GAAW;IACrB,KAAK,CAAC,yBAAyBA,GAAG,EAAE,CAAC;IACrC,IAAI,CAACA,GAAG,GAAGA,GAAG;EAChB;;AATFH,OAAA,CAAAd,eAAA,GAAAA,eAAA;AAgBA,MAAaa,SAAU,SAAQG,KAAK;EAWlCV,YAAYK,QAAa,EAAEP,KAAa;IACtC,KAAK,CAAC,+CAA+CA,KAAK,OAAOO,QAAQ,EAAE,CAAC;IAC5E,IAAI,CAACA,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACP,KAAK,GAAGA,KAAK;EACpB;;AAfFU,OAAA,CAAAD,SAAA,GAAAA,SAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}