{"ast":null,"code":"'use strict';\n\nvar errcode = require('err-code');\nvar retry = require('retry');\nvar hasOwn = Object.prototype.hasOwnProperty;\nfunction isRetryError(err) {\n  return err && err.code === 'EPROMISERETRY' && hasOwn.call(err, 'retried');\n}\nfunction promiseRetry(fn, options) {\n  var temp;\n  var operation;\n  if (typeof fn === 'object' && typeof options === 'function') {\n    // Swap options and fn when using alternate signature (options, fn)\n    temp = options;\n    options = fn;\n    fn = temp;\n  }\n  operation = retry.operation(options);\n  return new Promise(function (resolve, reject) {\n    operation.attempt(function (number) {\n      Promise.resolve().then(function () {\n        return fn(function (err) {\n          if (isRetryError(err)) {\n            err = err.retried;\n          }\n          throw errcode('Retrying', 'EPROMISERETRY', {\n            retried: err\n          });\n        }, number);\n      }).then(resolve, function (err) {\n        if (isRetryError(err)) {\n          err = err.retried;\n          if (operation.retry(err || new Error())) {\n            return;\n          }\n        }\n        reject(err);\n      });\n    });\n  });\n}\nmodule.exports = promiseRetry;","map":{"version":3,"names":["errcode","require","retry","hasOwn","Object","prototype","hasOwnProperty","isRetryError","err","code","call","promiseRetry","fn","options","temp","operation","Promise","resolve","reject","attempt","number","then","retried","Error","module","exports"],"sources":["/Users/mdabdurrazzak/RadInsu/node_modules/promise-retry/index.js"],"sourcesContent":["'use strict';\n\nvar errcode = require('err-code');\nvar retry = require('retry');\n\nvar hasOwn = Object.prototype.hasOwnProperty;\n\nfunction isRetryError(err) {\n    return err && err.code === 'EPROMISERETRY' && hasOwn.call(err, 'retried');\n}\n\nfunction promiseRetry(fn, options) {\n    var temp;\n    var operation;\n\n    if (typeof fn === 'object' && typeof options === 'function') {\n        // Swap options and fn when using alternate signature (options, fn)\n        temp = options;\n        options = fn;\n        fn = temp;\n    }\n\n    operation = retry.operation(options);\n\n    return new Promise(function (resolve, reject) {\n        operation.attempt(function (number) {\n            Promise.resolve()\n            .then(function () {\n                return fn(function (err) {\n                    if (isRetryError(err)) {\n                        err = err.retried;\n                    }\n\n                    throw errcode('Retrying', 'EPROMISERETRY', { retried: err });\n                }, number);\n            })\n            .then(resolve, function (err) {\n                if (isRetryError(err)) {\n                    err = err.retried;\n\n                    if (operation.retry(err || new Error())) {\n                        return;\n                    }\n                }\n\n                reject(err);\n            });\n        });\n    });\n}\n\nmodule.exports = promiseRetry;\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,OAAO,GAAGC,OAAO,CAAC,UAAU,CAAC;AACjC,IAAIC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC;AAE5B,IAAIE,MAAM,GAAGC,MAAM,CAACC,SAAS,CAACC,cAAc;AAE5C,SAASC,YAAYA,CAACC,GAAG,EAAE;EACvB,OAAOA,GAAG,IAAIA,GAAG,CAACC,IAAI,KAAK,eAAe,IAAIN,MAAM,CAACO,IAAI,CAACF,GAAG,EAAE,SAAS,CAAC;AAC7E;AAEA,SAASG,YAAYA,CAACC,EAAE,EAAEC,OAAO,EAAE;EAC/B,IAAIC,IAAI;EACR,IAAIC,SAAS;EAEb,IAAI,OAAOH,EAAE,KAAK,QAAQ,IAAI,OAAOC,OAAO,KAAK,UAAU,EAAE;IACzD;IACAC,IAAI,GAAGD,OAAO;IACdA,OAAO,GAAGD,EAAE;IACZA,EAAE,GAAGE,IAAI;EACb;EAEAC,SAAS,GAAGb,KAAK,CAACa,SAAS,CAACF,OAAO,CAAC;EAEpC,OAAO,IAAIG,OAAO,CAAC,UAAUC,OAAO,EAAEC,MAAM,EAAE;IAC1CH,SAAS,CAACI,OAAO,CAAC,UAAUC,MAAM,EAAE;MAChCJ,OAAO,CAACC,OAAO,CAAC,CAAC,CAChBI,IAAI,CAAC,YAAY;QACd,OAAOT,EAAE,CAAC,UAAUJ,GAAG,EAAE;UACrB,IAAID,YAAY,CAACC,GAAG,CAAC,EAAE;YACnBA,GAAG,GAAGA,GAAG,CAACc,OAAO;UACrB;UAEA,MAAMtB,OAAO,CAAC,UAAU,EAAE,eAAe,EAAE;YAAEsB,OAAO,EAAEd;UAAI,CAAC,CAAC;QAChE,CAAC,EAAEY,MAAM,CAAC;MACd,CAAC,CAAC,CACDC,IAAI,CAACJ,OAAO,EAAE,UAAUT,GAAG,EAAE;QAC1B,IAAID,YAAY,CAACC,GAAG,CAAC,EAAE;UACnBA,GAAG,GAAGA,GAAG,CAACc,OAAO;UAEjB,IAAIP,SAAS,CAACb,KAAK,CAACM,GAAG,IAAI,IAAIe,KAAK,CAAC,CAAC,CAAC,EAAE;YACrC;UACJ;QACJ;QAEAL,MAAM,CAACV,GAAG,CAAC;MACf,CAAC,CAAC;IACN,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AAEAgB,MAAM,CAACC,OAAO,GAAGd,YAAY","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}