{"ast":null,"code":"'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport parseProtocol from './parseProtocol.js';\nimport platform from '../platform/index.js';\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nexport default function fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n    const match = DATA_URL_PATTERN.exec(uri);\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n      return new _Blob([buffer], {\n        type: mime\n      });\n    }\n    return buffer;\n  }\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}","map":{"version":3,"names":["AxiosError","parseProtocol","platform","DATA_URL_PATTERN","fromDataURI","uri","asBlob","options","_Blob","Blob","classes","protocol","undefined","length","slice","match","exec","ERR_INVALID_URL","mime","isBase64","body","buffer","Buffer","from","decodeURIComponent","ERR_NOT_SUPPORT","type"],"sources":["/Users/mdabdurrazzak/RadInsu/node_modules/axios/lib/helpers/fromDataURI.js"],"sourcesContent":["'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport parseProtocol from './parseProtocol.js';\nimport platform from '../platform/index.js';\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nexport default function fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n"],"mappings":"AAAA,YAAY;;AAEZ,OAAOA,UAAU,MAAM,uBAAuB;AAC9C,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAOC,QAAQ,MAAM,sBAAsB;AAE3C,MAAMC,gBAAgB,GAAG,+CAA+C;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,WAAWA,CAACC,GAAG,EAAEC,MAAM,EAAEC,OAAO,EAAE;EACxD,MAAMC,KAAK,GAAGD,OAAO,IAAIA,OAAO,CAACE,IAAI,IAAIP,QAAQ,CAACQ,OAAO,CAACD,IAAI;EAC9D,MAAME,QAAQ,GAAGV,aAAa,CAACI,GAAG,CAAC;EAEnC,IAAIC,MAAM,KAAKM,SAAS,IAAIJ,KAAK,EAAE;IACjCF,MAAM,GAAG,IAAI;EACf;EAEA,IAAIK,QAAQ,KAAK,MAAM,EAAE;IACvBN,GAAG,GAAGM,QAAQ,CAACE,MAAM,GAAGR,GAAG,CAACS,KAAK,CAACH,QAAQ,CAACE,MAAM,GAAG,CAAC,CAAC,GAAGR,GAAG;IAE5D,MAAMU,KAAK,GAAGZ,gBAAgB,CAACa,IAAI,CAACX,GAAG,CAAC;IAExC,IAAI,CAACU,KAAK,EAAE;MACV,MAAM,IAAIf,UAAU,CAAC,aAAa,EAAEA,UAAU,CAACiB,eAAe,CAAC;IACjE;IAEA,MAAMC,IAAI,GAAGH,KAAK,CAAC,CAAC,CAAC;IACrB,MAAMI,QAAQ,GAAGJ,KAAK,CAAC,CAAC,CAAC;IACzB,MAAMK,IAAI,GAAGL,KAAK,CAAC,CAAC,CAAC;IACrB,MAAMM,MAAM,GAAGC,MAAM,CAACC,IAAI,CAACC,kBAAkB,CAACJ,IAAI,CAAC,EAAED,QAAQ,GAAG,QAAQ,GAAG,MAAM,CAAC;IAElF,IAAIb,MAAM,EAAE;MACV,IAAI,CAACE,KAAK,EAAE;QACV,MAAM,IAAIR,UAAU,CAAC,uBAAuB,EAAEA,UAAU,CAACyB,eAAe,CAAC;MAC3E;MAEA,OAAO,IAAIjB,KAAK,CAAC,CAACa,MAAM,CAAC,EAAE;QAACK,IAAI,EAAER;MAAI,CAAC,CAAC;IAC1C;IAEA,OAAOG,MAAM;EACf;EAEA,MAAM,IAAIrB,UAAU,CAAC,uBAAuB,GAAGW,QAAQ,EAAEX,UAAU,CAACyB,eAAe,CAAC;AACtF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}