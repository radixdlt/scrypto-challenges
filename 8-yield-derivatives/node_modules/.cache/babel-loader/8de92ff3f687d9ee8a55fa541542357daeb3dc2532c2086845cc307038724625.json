{"ast":null,"code":"/**\n * WebSocket implements a browser-side WebSocket specification.\n * @module Client\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\nvar WebSocket = /*#__PURE__*/\nfunction (_EventEmitter) {\n  (0, _inherits2[\"default\"])(WebSocket, _EventEmitter);\n\n  /** Instantiate a WebSocket class\n   * @constructor\n   * @param {String} address - url to a websocket server\n   * @param {(Object)} options - websocket options\n   * @param {(String|Array)} protocols - a list of protocols\n   * @return {WebSocket} - returns a WebSocket instance\n   */\n  function WebSocket(address, options, protocols) {\n    var _this;\n    (0, _classCallCheck2[\"default\"])(this, WebSocket);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(WebSocket).call(this));\n    _this.socket = new window.WebSocket(address, protocols);\n    _this.socket.onopen = function () {\n      return _this.emit(\"open\");\n    };\n    _this.socket.onmessage = function (event) {\n      return _this.emit(\"message\", event.data);\n    };\n    _this.socket.onerror = function (error) {\n      return _this.emit(\"error\", error);\n    };\n    _this.socket.onclose = function (event) {\n      _this.emit(\"close\", event.code, event.reason);\n    };\n    return _this;\n  }\n  /**\n   * Sends data through a websocket connection\n   * @method\n   * @param {(String|Object)} data - data to be sent via websocket\n   * @param {Object} options - ws options\n   * @param {Function} callback - a callback called once the data is sent\n   * @return {Undefined}\n   */\n\n  (0, _createClass2[\"default\"])(WebSocket, [{\n    key: \"send\",\n    value: function send(data, options, callback) {\n      callback = callback || options;\n      try {\n        this.socket.send(data);\n        callback();\n      } catch (error) {\n        callback(error);\n      }\n    }\n    /**\n     * Closes an underlying socket\n     * @method\n     * @param {Number} code - status code explaining why the connection is being closed\n     * @param {String} reason - a description why the connection is closing\n     * @return {Undefined}\n     * @throws {Error}\n     */\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.socket.close(code, reason);\n    }\n  }]);\n  return WebSocket;\n}(_eventemitter[\"default\"]);\nexports[\"default\"] = WebSocket;","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_inherits2","_eventemitter","WebSocket","_EventEmitter","address","options","protocols","_this","call","socket","window","onopen","emit","onmessage","event","data","onerror","error","onclose","code","reason","key","send","callback","close"],"sources":["/Users/mdabdurrazzak/RadInsu/node_modules/rpc-websockets/dist/lib/client/websocket.browser.js"],"sourcesContent":["/**\n * WebSocket implements a browser-side WebSocket specification.\n * @module Client\n */\n\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _eventemitter = _interopRequireDefault(require(\"eventemitter3\"));\n\nvar WebSocket =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  (0, _inherits2[\"default\"])(WebSocket, _EventEmitter);\n\n  /** Instantiate a WebSocket class\n   * @constructor\n   * @param {String} address - url to a websocket server\n   * @param {(Object)} options - websocket options\n   * @param {(String|Array)} protocols - a list of protocols\n   * @return {WebSocket} - returns a WebSocket instance\n   */\n  function WebSocket(address, options, protocols) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, WebSocket);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(WebSocket).call(this));\n    _this.socket = new window.WebSocket(address, protocols);\n\n    _this.socket.onopen = function () {\n      return _this.emit(\"open\");\n    };\n\n    _this.socket.onmessage = function (event) {\n      return _this.emit(\"message\", event.data);\n    };\n\n    _this.socket.onerror = function (error) {\n      return _this.emit(\"error\", error);\n    };\n\n    _this.socket.onclose = function (event) {\n      _this.emit(\"close\", event.code, event.reason);\n    };\n\n    return _this;\n  }\n  /**\n   * Sends data through a websocket connection\n   * @method\n   * @param {(String|Object)} data - data to be sent via websocket\n   * @param {Object} options - ws options\n   * @param {Function} callback - a callback called once the data is sent\n   * @return {Undefined}\n   */\n\n\n  (0, _createClass2[\"default\"])(WebSocket, [{\n    key: \"send\",\n    value: function send(data, options, callback) {\n      callback = callback || options;\n\n      try {\n        this.socket.send(data);\n        callback();\n      } catch (error) {\n        callback(error);\n      }\n    }\n    /**\n     * Closes an underlying socket\n     * @method\n     * @param {Number} code - status code explaining why the connection is being closed\n     * @param {String} reason - a description why the connection is closing\n     * @return {Undefined}\n     * @throws {Error}\n     */\n\n  }, {\n    key: \"close\",\n    value: function close(code, reason) {\n      this.socket.close(code, reason);\n    }\n  }]);\n  return WebSocket;\n}(_eventemitter[\"default\"]);\n\nexports[\"default\"] = WebSocket;"],"mappings":"AAAA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC;AAEpFC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAAC,SAAS,CAAC,GAAG,KAAK,CAAC;AAE3B,IAAIE,gBAAgB,GAAGN,sBAAsB,CAACC,OAAO,CAAC,uCAAuC,CAAC,CAAC;AAE/F,IAAIM,aAAa,GAAGP,sBAAsB,CAACC,OAAO,CAAC,oCAAoC,CAAC,CAAC;AAEzF,IAAIO,2BAA2B,GAAGR,sBAAsB,CAACC,OAAO,CAAC,kDAAkD,CAAC,CAAC;AAErH,IAAIQ,gBAAgB,GAAGT,sBAAsB,CAACC,OAAO,CAAC,uCAAuC,CAAC,CAAC;AAE/F,IAAIS,UAAU,GAAGV,sBAAsB,CAACC,OAAO,CAAC,iCAAiC,CAAC,CAAC;AAEnF,IAAIU,aAAa,GAAGX,sBAAsB,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC;AAEpE,IAAIW,SAAS,GACb;AACA,UAAUC,aAAa,EAAE;EACvB,CAAC,CAAC,EAAEH,UAAU,CAAC,SAAS,CAAC,EAAEE,SAAS,EAAEC,aAAa,CAAC;;EAEpD;AACF;AACA;AACA;AACA;AACA;AACA;EACE,SAASD,SAASA,CAACE,OAAO,EAAEC,OAAO,EAAEC,SAAS,EAAE;IAC9C,IAAIC,KAAK;IAET,CAAC,CAAC,EAAEX,gBAAgB,CAAC,SAAS,CAAC,EAAE,IAAI,EAAEM,SAAS,CAAC;IACjDK,KAAK,GAAG,CAAC,CAAC,EAAET,2BAA2B,CAAC,SAAS,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,EAAEC,gBAAgB,CAAC,SAAS,CAAC,EAAEG,SAAS,CAAC,CAACM,IAAI,CAAC,IAAI,CAAC,CAAC;IACjHD,KAAK,CAACE,MAAM,GAAG,IAAIC,MAAM,CAACR,SAAS,CAACE,OAAO,EAAEE,SAAS,CAAC;IAEvDC,KAAK,CAACE,MAAM,CAACE,MAAM,GAAG,YAAY;MAChC,OAAOJ,KAAK,CAACK,IAAI,CAAC,MAAM,CAAC;IAC3B,CAAC;IAEDL,KAAK,CAACE,MAAM,CAACI,SAAS,GAAG,UAAUC,KAAK,EAAE;MACxC,OAAOP,KAAK,CAACK,IAAI,CAAC,SAAS,EAAEE,KAAK,CAACC,IAAI,CAAC;IAC1C,CAAC;IAEDR,KAAK,CAACE,MAAM,CAACO,OAAO,GAAG,UAAUC,KAAK,EAAE;MACtC,OAAOV,KAAK,CAACK,IAAI,CAAC,OAAO,EAAEK,KAAK,CAAC;IACnC,CAAC;IAEDV,KAAK,CAACE,MAAM,CAACS,OAAO,GAAG,UAAUJ,KAAK,EAAE;MACtCP,KAAK,CAACK,IAAI,CAAC,OAAO,EAAEE,KAAK,CAACK,IAAI,EAAEL,KAAK,CAACM,MAAM,CAAC;IAC/C,CAAC;IAED,OAAOb,KAAK;EACd;EACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;EAGE,CAAC,CAAC,EAAEV,aAAa,CAAC,SAAS,CAAC,EAAEK,SAAS,EAAE,CAAC;IACxCmB,GAAG,EAAE,MAAM;IACX1B,KAAK,EAAE,SAAS2B,IAAIA,CAACP,IAAI,EAAEV,OAAO,EAAEkB,QAAQ,EAAE;MAC5CA,QAAQ,GAAGA,QAAQ,IAAIlB,OAAO;MAE9B,IAAI;QACF,IAAI,CAACI,MAAM,CAACa,IAAI,CAACP,IAAI,CAAC;QACtBQ,QAAQ,CAAC,CAAC;MACZ,CAAC,CAAC,OAAON,KAAK,EAAE;QACdM,QAAQ,CAACN,KAAK,CAAC;MACjB;IACF;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EAEE,CAAC,EAAE;IACDI,GAAG,EAAE,OAAO;IACZ1B,KAAK,EAAE,SAAS6B,KAAKA,CAACL,IAAI,EAAEC,MAAM,EAAE;MAClC,IAAI,CAACX,MAAM,CAACe,KAAK,CAACL,IAAI,EAAEC,MAAM,CAAC;IACjC;EACF,CAAC,CAAC,CAAC;EACH,OAAOlB,SAAS;AAClB,CAAC,CAACD,aAAa,CAAC,SAAS,CAAC,CAAC;AAE3BP,OAAO,CAAC,SAAS,CAAC,GAAGQ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}