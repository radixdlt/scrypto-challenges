{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar tslib_1 = require(\"tslib\");\nvar RadixECIES_1 = tslib_1.__importDefault(require(\"../crypto/RadixECIES\"));\nvar RadixIdentity_1 = tslib_1.__importDefault(require(\"./RadixIdentity\"));\nvar RadixSimpleIdentity = /** @class */function (_super) {\n  tslib_1.__extends(RadixSimpleIdentity, _super);\n  function RadixSimpleIdentity(address) {\n    var _this = _super.call(this, address) || this;\n    _this.address = address;\n    return _this;\n  }\n  RadixSimpleIdentity.prototype.signAtom = function (atom) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      var signature, signatureId;\n      var _a;\n      return tslib_1.__generator(this, function (_b) {\n        signature = this.address.sign(atom.getHash());\n        signatureId = this.address.getUID();\n        atom.signatures = (_a = {}, _a[signatureId.toString()] = signature, _a);\n        return [2 /*return*/, atom];\n      });\n    });\n  };\n  RadixSimpleIdentity.prototype.decryptECIESPayload = function (payload) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        return [2 /*return*/, RadixECIES_1.default.decrypt(this.address.getPrivate(), payload)];\n      });\n    });\n  };\n  RadixSimpleIdentity.prototype.decryptECIESPayloadWithProtectors = function (protectors, payload) {\n    return tslib_1.__awaiter(this, void 0, void 0, function () {\n      return tslib_1.__generator(this, function (_a) {\n        return [2 /*return*/, RadixECIES_1.default.decryptWithProtectors(this.address.getPrivate(), protectors, payload)];\n      });\n    });\n  };\n  RadixSimpleIdentity.prototype.getPublicKey = function () {\n    return this.address.getPublic();\n  };\n  return RadixSimpleIdentity;\n}(RadixIdentity_1.default);\nexports.default = RadixSimpleIdentity;","map":{"version":3,"names":["RadixECIES_1","tslib_1","__importDefault","require","RadixIdentity_1","RadixSimpleIdentity","_super","__extends","address","_this","call","prototype","signAtom","atom","signature","sign","getHash","signatureId","getUID","signatures","_a","toString","decryptECIESPayload","payload","default","decrypt","getPrivate","decryptECIESPayloadWithProtectors","protectors","decryptWithProtectors","getPublicKey","getPublic"],"sources":["../../../../src/modules/identity/RadixSimpleIdentity.ts"],"sourcesContent":[null],"mappings":";;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA,CAAAC,eAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAH,OAAA,CAAAC,eAAA,CAAAC,OAAA;AAIA,IAAAE,mBAAA,0BAAAC,MAAA;EAAiDL,OAAA,CAAAM,SAAA,CAAAF,mBAAA,EAAAC,MAAA;EAC7C,SAAAD,oBAAqBG,OAAqB;IAA1C,IAAAC,KAAA,GACIH,MAAA,CAAAI,IAAA,OAAMF,OAAO,CAAC;IADGC,KAAA,CAAAD,OAAO,GAAPA,OAAO;;EAE5B;EAEaH,mBAAA,CAAAM,SAAA,CAAAC,QAAQ,GAArB,UAAsBC,IAAe;;;;;QAC3BC,SAAS,GAAG,IAAI,CAACN,OAAO,CAACO,IAAI,CAACF,IAAI,CAACG,OAAO,EAAE,CAAC;QAC7CC,WAAW,GAAG,IAAI,CAACT,OAAO,CAACU,MAAM,EAAE;QAEzCL,IAAI,CAACM,UAAU,IAAAC,EAAA,OAAKA,EAAA,CAACH,WAAW,CAACI,QAAQ,EAAE,IAAGP,SAAS,EAAAM,EAAA,CAAE;QAEzD,sBAAOP,IAAI;;;GACd;EAEYR,mBAAA,CAAAM,SAAA,CAAAW,mBAAmB,GAAhC,UAAiCC,OAAe;;;QAC5C,sBAAOvB,YAAA,CAAAwB,OAAU,CAACC,OAAO,CAAC,IAAI,CAACjB,OAAO,CAACkB,UAAU,EAAE,EAAEH,OAAO,CAAC;;;GAChE;EAEYlB,mBAAA,CAAAM,SAAA,CAAAgB,iCAAiC,GAA9C,UAA+CC,UAAoB,EAAEL,OAAe;;;QAChF,sBAAOvB,YAAA,CAAAwB,OAAU,CAACK,qBAAqB,CAAC,IAAI,CAACrB,OAAO,CAACkB,UAAU,EAAE,EAAEE,UAAU,EAAEL,OAAO,CAAC;;;GAC1F;EAEMlB,mBAAA,CAAAM,SAAA,CAAAmB,YAAY,GAAnB;IACI,OAAO,IAAI,CAACtB,OAAO,CAACuB,SAAS,EAAE;EACnC,CAAC;EACL,OAAA1B,mBAAC;AAAD,CAAC,CAzBgDD,eAAA,CAAAoB,OAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}